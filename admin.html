<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel de Administración - Avisos</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div id="loginScreen" class="login-screen active">
    <h2>Bienvenido Administrador</h2>
    <p>Ingresa la contraseña y presiona Enter o el botón.</p>
    <input type="password" id="passwordInput" placeholder="Contraseña Administrador" autocomplete="off" />
    <button id="btnLogin">Entrar</button>
    <p id="loginError" class="error-message"></p>
  </div>

  <div id="mainAdminContent" style="display:none;">
    <header class="admin-header">
      <h1>Panel de Administración de Eventos</h1>
      <div class="admin-actions">
        <label for="loadEventsFile" class="custom-file-upload">Cargar JSON</label>
        <input type="file" id="loadEventsFile" accept=".json" style="display: none;"/>
        <button id="btnDownloadEvents">Descargar Events.json</button>
        <button id="btnLogout" class="btn-secondary">Cerrar Sesión</button>
      </div>
    </header>

    <div class="admin-interface-container">
      <section id="adminPanel" class="admin-panel-section">
        <h2>Cargar Nuevo Evento</h2>
        <table>
          <tr>
            <td><label for="selectDia">Fecha:</label></td>
            <td><input type="date" id="selectDia" /></td>
          </tr>
          <tr>
            <td><label for="selectMateria">Materia:</label></td>
            <td><select id="selectMateria"></select></td>
          </tr>
          <tr>
            <td><label for="selectTipoEvento">Tipo de Evento:</label></td>
            <td><select id="selectTipoEvento"></select></td>
          </tr>
          <tr id="rowHoraEntrada" style="display:none;">
            <td><label for="selectHoraEntrada">Hora de Entrada:</label></td>
            <td><select id="selectHoraEntrada"></select>
                <span class="default-info">(Default: 14:00)</span>
            </td>
          </tr>
          <tr id="rowHoraSalida" style="display:none;">
            <td><label for="selectHoraSalida">Hora de Salida:</label></td>
            <td><select id="selectHoraSalida"></select>
                <span class="default-info">(Default: L/M/J: 18:20, Mi: 20:40, V: 17:00)</span>
            </td>
          </tr>
          <tr>
            <td colspan="2" style="text-align: center;">
              <button id="btnCargarEvento" class="btn-primary">Cargar Evento</button>
            </td>
          </tr>
        </table>
      </section>

      <section class="active-events-section">
        <h2>Eventos Activos</h2>
        <div class="table-wrapper">
          <table id="tablaEventosActivos" class="eventos-activos-table">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Materia</th>
                <th>Tipo de Evento</th>
                <th>Detalle</th> <th>Acción</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </section>
    </div>

    <hr />
    <h2 id="tituloCalendarioPreview">Vista Previa del Calendario</h2>
    <div id="calendarioPreview" class="calendario-container">
      <p class="loading-message">Cargando vista previa...</p>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>